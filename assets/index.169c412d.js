import{v as t,c as e,p as n,a as i,b as s,d as o,r as a,o as r,F as l,e as d,w as h,f as p,g as c,h as u,i as m,j as f,k as y,m as g}from"./vendor.3b57236c.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();let w=function e(n,i,s=t){if(n.id=s(),n.children&&!(n.children.length<1))return n.children.forEach((t=>{t.parent=n.id,e(t)})),n}({name:"root",alias:"/",children:[{name:"home",alias:"~",children:[{name:"dan",children:[{name:"about.txt",content:"\n                                <p>I'm Dan, a Web Developer living in Piha, New Zealand,</p>\n                                <p>I really enjoy making things people use every day from websites with cool animations to service based applications with an emphasis on usability and maintainability.</p>\n                                <p>When I'm not making stuff like this website I like hanging out with my partner Amy and my dog Pipit.</p>\n                                <p>I'm passionate about Privacy, Performance and Pizzaz.</p>\n                            "},{name:"contact.txt",content:"<p>Send me a message at dan@tate.nz if you're interested in working together.</p>"},{name:"todo.txt",content:'\n                                <p>There\'s lots to do!.</p>\n                                <ul>\n                                    <li>"../" Should move to the parent directory, this should be recursive so that ../../ attempts grandparent directory ect...</li>\n                                    <li>Implement options in "ls" "-a" giving more ( fake ) information and "-l" long listing the files.</li>\n                                    <li>Give the Terminal a theme.</li>\n                                    <li>Make another application.</li>\n                                    <li>Cat should be able to take multiple files ( like how cat actually works ).</li>\n                                    <li>commands should have man pages and a help command</li>\n                                    <li>Implement up go through command history</li>\n                                    <li>Implement tab completion</li>\n                                </ul>\n                            '}]}]}]});w=function t(e,n){if(e.path=void 0===n?e.name:`${n.path}/${e.name}`,e.children&&!(e.children.length<1))return e.children.forEach((n=>{t(n,e)})),e}(w);const v=e({state:()=>({fs:w})});const b={data:()=>({commands:["close"]})};n("data-v-69d1007a");const k={class:"window"},$={class:"application"};function I(t,e){if(!e)throw new Error("This function requires a path passed as the second parameter.");if(t.path===e)return t;let n=[];!function t(e){e.children.forEach((e=>{n.push(e),e.children&&t(e)}))}(t);const i=n.find((t=>e===t.path));if(!(null==i?void 0:i.path))throw new Error("Node with this path does not exist.");return i}i(),b.render=function(t,e,n,i,l,d){return r(),s("div",k,[o("div",$,[a(t.$slots,"default",{},void 0,!0)])])},b.__scopeId="data-v-69d1007a";const T=[{key:"/",value:"root"},{key:"~",value:"root/home/dan"},{key:"",value:"root/home/dan"}];const x={data:()=>({value:"",commandHistory:[],history:[],commands:["clear","help","ls","cd","cat"],applications:["Terminal"],user:"guest",host:"website",pwd:"root/home/dan"}),computed:{dir(){return I(this.$store.state.fs,this.pwd)},prompt(){return`<span class="user">${this.user}</span>@<span class="hostname">${this.host}</span><span class="cwd">${this.pwd}</span><span>$</span>`}},mounted(){this.focus()},methods:{focus(){this.$refs.input.focus()},keydown(t){13===t.keyCode&&this.input(this),38===t.keyCode&&this.previous()},input(){this.commandHistory.push(this.value),this.history.push(`${this.prompt} ${this.value}`);let{command:t,args:e,opts:n}=function(t){let e=(t=t.replace(/\s+/g," ").split(" ")).shift(),n=[],i=[];return t.forEach((t=>{"-"===t[0]?n.push(t.substr(1,t.length-1)):i.push(t)})),{command:e,opts:n,args:i}}(this.value),i=`${this.prompt} That command does not exist, type help for more info.`;this.commands.indexOf(t)>-1&&(i=this[t](this.dir.children,e,n),this.output(i)),this.applications.indexOf(t)>-1&&this.$bus.emit("launch",t)},output(t){this.history.push(t),this.value=""},previous(){this.value=this.commandHistory[this.commandHistory.length-1]},clear(){this.history=[],this.output()},help(){this.history.push(`You can try typing ${this.commands.join(", ")}. Good luck.`),this.value=""},ls(){const t=I(this.$store.state.fs,this.pwd).children.map((t=>t.name)).join(" ");this.output(t)},cd(t,e,n){let i=t.find((({name:t})=>t===e[0]));if(i)this.pwd=i.path;else try{i=function(t,e="",n){let i=!1;const s=T.find((t=>t.key===e)),o=T.find((t=>t.key===e[0]));o&&(e=o.value+e.substr(0,e.length)),void 0!==s&&(e=s.value);try{i=I(t,e)}catch(a){throw new Error(`${e.split("/").pop()} No such file or directory.`)}if(i.content)throw new Error(`${e.split("/").pop()} is not a directory.`);return i}(this.$store.state.fs,e[0]),this.pwd=i.path}catch(s){this.output(s.message)}},cat:function(t,e,n){let i="";0===e.length&&0===n&&(i="cat requires an argument or option to be passed. Try seeing what you can pass by typing ls."),n&&n.length&&n.indexOf("-help")>-1&&(i="\n            <p>Usage: cat [option]... [FILE]...</p>\n            <p>Concatenate File(s) to standard output.</p>\n            <table>\n                <tr>\n                    <td>--help</td><td>display this help and exit</td>\n                </tr>\n            </table>\n        ");let s=t.find((t=>t.name===e[0]));return s&&(i=s.content),i}}},E={ref:"output",class:"output"},L=["innerHTML"],H={class:"input"},M=["innerHTML"];x.render=function(t,e,n,i,a,c){return r(),s("div",{class:"terminal",onClick:e[2]||(e[2]=(...t)=>c.focus&&c.focus(...t))},[o("div",E,[(r(!0),s(l,null,d(a.history,((t,e)=>(r(),s("div",{class:"history",key:e,innerHTML:t},null,8,L)))),128))],512),o("div",H,[o("div",{ref:"prompt",class:"prompt",innerHTML:c.prompt},null,8,M),h(o("input",{spellcheck:"false",ref:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),onKeydown:e[1]||(e[1]=(...t)=>c.keydown&&c.keydown(...t))},null,544),[[p,a.value]])])])};const P={components:{Window:b,Terminal:x},data:()=>({windows:[]}),mounted(){this.windows.push(x),this.$bus.on("launch",(t=>{this.windows.push(t)}))}};P.render=function(t,e,n,i,o,a){const h=c("Window");return r(!0),s(l,null,d(o.windows,(t=>(r(),u(h,null,{default:m((()=>[(r(),u(f(t)))])),_:2},1024)))),256)};const N={components:{WindowManager:P}};N.render=function(t,e,n,i,s,o){const a=c("WindowManager");return r(),u(a)};const W=y(N);W.config.globalProperties.$bus=g(),W.use(v),W.mount("#app");
