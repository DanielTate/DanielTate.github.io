import{v as t,c as e,p as n,a as s,o as i,b as a,d as o,r,w as l,F as h,e as p,f as d,g as c,h as u,i as m,j as f}from"./vendor.27bacfdd.js";let y=function e(n,s,i=t){if(n.id=i(),n.children&&!(n.children.length<1))return n.children.forEach((t=>{t.parent=n.id,e(t)})),n}({name:"root",alias:"/",children:[{name:"home",alias:"~",children:[{name:"dan",children:[{name:"about.txt",content:"\n                                <p>I'm Dan, a Web Developer living in Piha, New Zealand,</p>\n                                <p>I really enjoy making things people use every day from websites with cool animations to service based applications with an emphasis on usability and maintainability.</p>\n                                <p>When I'm not making stuff like this website I like hanging out with my partner Amy and my dog Pipit.</p>\n                                <p>I'm passionate about Privacy, Performance and Pizzaz.</p>\n                            "},{name:"contact.txt",content:"<p>Send me a message at dan@tate.nz if you're interested in working together.</p>"},{name:"todo.txt",content:'\n                                <p>There\'s lots to do!.</p>\n                                <ul>\n                                    <li>"../" Should move to the parent directory, this should be recursive so that ../../ attempts grandparent directory ect...</li>\n                                    <li>Implement options in "ls" "-a" giving more ( fake ) information and "-l" long listing the files.</li>\n                                    <li>Give the Terminal a theme.</li>\n                                    <li>Make another application.</li>\n                                    <li>Cat should be able to take multiple files ( like how cat actually works ).</li>\n                                    <li>commands should have man pages and a help command</li>\n                                    <li>Implement up go through command history</li>\n                                    <li>Implement tab completion</li>\n                                </ul>\n                            '}]}]}]});y=function t(e,n){if(e.path=void 0===n?e.name:`${n.path}/${e.name}`,e.children&&!(e.children.length<1))return e.children.forEach((n=>{t(n,e)})),e}(y);const v=e({state:()=>({fs:y})});const g={data:()=>({commands:["close"]})},w=l();n("data-v-69d1007a");const k={class:"window"},b={class:"application"};s();const $=w(((t,e,n,s,l,h)=>(i(),a("div",k,[o("div",b,[r(t.$slots,"default",{},void 0,!0)])]))));function T(t,e){if(!e)throw new Error("This function requires a path passed as the second parameter.");if(t.path===e)return t;let n=[];!function t(e){e.children.forEach((e=>{n.push(e),e.children&&t(e)}))}(t);const s=n.find((t=>e===t.path));if(!(null==s?void 0:s.path))throw new Error("Node with this path does not exist.");return s}g.render=$,g.__scopeId="data-v-69d1007a";const I=[{key:"/",value:"root"},{key:"~",value:"root/home/dan"},{key:"",value:"root/home/dan"}];const x={data:()=>({value:"",commandHistory:[],history:[],commands:["clear","help","ls","cd","cat"],user:"guest",host:"website",pwd:"root/home/dan"}),computed:{dir(){return T(this.$store.state.fs,this.pwd)},prompt(){return`<span class="user">${this.user}</span>@<span class="hostname">${this.host}</span><span class="cwd">${this.pwd}</span><span>$</span>`}},mounted(){this.focus()},methods:{focus(){this.$refs.input.focus()},keydown(t){13===t.keyCode&&this.input(this),38===t.keyCode&&this.previous()},input(){this.commandHistory.push(this.value),this.history.push(`${this.prompt} ${this.value}`);let{command:t,args:e,opts:n}=function(t){let e=(t=t.replace(/\s+/g," ").split(" ")).shift(),n=[],s=[];return t.forEach((t=>{"-"===t[0]?n.push(t.substr(1,t.length-1)):s.push(t)})),{command:e,opts:n,args:s}}(this.value),s=`${this.prompt} That command does not exist, type help for more info.`;this.commands.indexOf(t)>-1&&(s=this[t](this.dir.children,e,n)),this.output(s)},output(t){this.history.push(t),this.value=""},previous(){this.value=this.commandHistory[this.commandHistory.length-1]},clear(){this.history=[],this.output()},help(){this.history.push(`You can try typing ${this.commands.join(", ")}. Good luck.`),this.value=""},ls(){const t=T(this.$store.state.fs,this.pwd).children.map((t=>t.name)).join(" ");this.output(t)},cd(t,e,n){let s=t.find((({name:t})=>t===e[0]));if(s)this.pwd=s.path;else try{s=function(t,e="",n){let s=!1;const i=I.find((t=>t.key===e)),a=I.find((t=>t.key===e[0]));a&&(e=a.value+e.substr(0,e.length)),void 0!==i&&(e=i.value);try{s=T(t,e)}catch(o){throw new Error(`${e.split("/").pop()} No such file or directory.`)}if(s.content)throw new Error(`${e.split("/").pop()} is not a directory.`);return s}(this.$store.state.fs,e[0]),this.pwd=s.path}catch(i){this.output(i.message)}},cat:function(t,e,n){let s="";0===e.length&&0===n&&(s="cat requires an argument or option to be passed. Try seeing what you can pass by typing ls."),n&&n.length&&n.indexOf("-help")>-1&&(s="\n            <p>Usage: cat [option]... [FILE]...</p>\n            <p>Concatenate File(s) to standard output.</p>\n            <table>\n                <tr>\n                    <td>--help</td><td>display this help and exit</td>\n                </tr>\n            </table>\n        ");let i=t.find((t=>t.name===e[0]));return i&&(s=i.content),s}}},E={ref:"output",class:"output"},H={class:"input"};x.render=function(t,e,n,s,r,l){return i(),a("div",{class:"terminal",onClick:e[3]||(e[3]=(...t)=>l.focus&&l.focus(...t))},[o("div",E,[(i(!0),a(h,null,p(r.history,((t,e)=>(i(),a("div",{class:"history",key:e,innerHTML:t},null,8,["innerHTML"])))),128))],512),o("div",H,[o("div",{ref:"prompt",class:"prompt",innerHTML:l.prompt},null,8,["innerHTML"]),d(o("input",{spellcheck:"false",ref:"input",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),onKeydown:e[2]||(e[2]=(...t)=>l.keydown&&l.keydown(...t))},null,544),[[c,r.value]])])])};const M={components:{Window:g,Terminal:x}};M.render=function(t,e,n,s,r,l){const h=u("Terminal"),p=u("Window");return i(),a(p,null,{default:m((()=>[o(h)])),_:1})};const W={components:{WindowManager:M}};W.render=function(t,e,n,s,o,r){const l=u("WindowManager");return i(),a(l)};const j=f(W);j.use(v),j.mount("#app");
